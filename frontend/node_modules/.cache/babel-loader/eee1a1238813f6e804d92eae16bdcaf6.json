{"ast":null,"code":"var _jsxFileName = \"C:\\\\1TDSJ\\\\Responsive\\\\sprint4\\\\front\\\\src\\\\pages\\\\comentario\\\\PageComentarios.jsx\",\n    _s = $RefreshSig$();\n\nimport { React, useEffect, useState } from \"react\";\nimport Comentario from \"../../components/comentario/Comentario\";\nimport { Container, Button1, Form, Dividir, Div2 } from \"../../assets/style/StyleComunidadeGlobal\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction PageComentarios(props) {\n  _s();\n\n  let id = \"\";\n\n  if (props.match.path.toLowerCase().includes(\"depo\")) {\n    id = props.match.params.id;\n  } // MÉTODO GET\n\n\n  const [depoimentos, setDepoimentos] = useState([]);\n  useEffect(() => {\n    // https://api-panaceia.herokuapp.com/rest/brief\n    fetch(\"/rest/brief\").then(resp => {\n      return resp.json();\n    }).then(resp => {\n      setDepoimentos(resp);\n      console.log(resp);\n    }).catch(error => {\n      console.log(error);\n    });\n  }, []); // MÉTODO DELETE\n\n  const removerComentario = idDepoimento => {\n    // https://api-panaceia.herokuapp.com/rest/brief/\n    fetch(\"/rest/brief/\" + idDepoimento, {\n      method: \"delete\"\n    }).then(() => {\n      window.location = \"/depo/\" + id;\n    }).catch(error => {\n      console.log(error);\n    });\n  }; // MÉTODO POST\n\n\n  const [novoDepoimento, setNovoDepoimento] = useState({\n    id: \"\",\n    idComunidade: id,\n    titulo: \"\",\n    comentario: \"\"\n  });\n\n  const adicionarDepoimento = evento => {\n    evento.preventDefault(); // \"https://api-panaceia.herokuapp.com/rest/brief/\"\n\n    fetch(\"/rest/brief/\", {\n      method: \"post\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(novoDepoimento)\n    }).then(() => {\n      window.location = \"/depo/\" + id;\n    });\n  };\n\n  const digitacao = evento => {\n    setNovoDepoimento({ ...novoDepoimento,\n      [evento.target.name]: evento.target.value\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Depoimentos da comunidade\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), depoimentos.map(depoimento => /*#__PURE__*/_jsxDEV(Comentario, {\n      idComunidade: id,\n      data: new Date(),\n      idDepoimento: depoimento.idComunidade // eslint-disable-next-line \n      ,\n      nome: id == depoimento.idComunidade ? depoimento.titulo : null // eslint-disable-next-line \n      ,\n      comentario: id == depoimento.idComunidade ? depoimento.comentario : null // eslint-disable-next-line \n      ,\n      onRemove: removerComentario.bind(this, depoimento.id),\n      children: id === depoimento.idComunidade ? depoimento.comentario : null\n    }, depoimento.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(Form, {\n      onSubmit: adicionarDepoimento,\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Compartilhe um depoimento com a comunidade\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Dividir, {\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"titulo\",\n          value: depoimentos.titulo,\n          onChange: digitacao,\n          required: true,\n          placeholder: \"Digite seu nome\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Div2, {\n        children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n          name: \"comentario\",\n          value: depoimentos.comentario,\n          onChange: digitacao,\n          required: true,\n          rows: \"4\",\n          placeholder: \"Escreva seu depoimento...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button1, {\n        type: \"submit\",\n        children: \"Publicar Coment\\xE1rio\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 5\n  }, this);\n}\n\n_s(PageComentarios, \"txBTonNUeUuVZQlV1ZMEfnrKwY0=\");\n\n_c = PageComentarios;\nexport default PageComentarios;\n\nvar _c;\n\n$RefreshReg$(_c, \"PageComentarios\");","map":{"version":3,"sources":["C:/1TDSJ/Responsive/sprint4/front/src/pages/comentario/PageComentarios.jsx"],"names":["React","useEffect","useState","Comentario","Container","Button1","Form","Dividir","Div2","PageComentarios","props","id","match","path","toLowerCase","includes","params","depoimentos","setDepoimentos","fetch","then","resp","json","console","log","catch","error","removerComentario","idDepoimento","method","window","location","novoDepoimento","setNovoDepoimento","idComunidade","titulo","comentario","adicionarDepoimento","evento","preventDefault","headers","body","JSON","stringify","digitacao","target","name","value","map","depoimento","Date","bind"],"mappings":";;;AAAA,SAASA,KAAT,EAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,UAAP,MAAuB,wCAAvB;AAEA,SAASC,SAAT,EAAoBC,OAApB,EAA6BC,IAA7B,EAAmCC,OAAnC,EAA4CC,IAA5C,QAAwD,0CAAxD;;;AAEA,SAASC,eAAT,CAAyBC,KAAzB,EAAgC;AAAA;;AAC9B,MAAIC,EAAE,GAAG,EAAT;;AAEA,MAAID,KAAK,CAACE,KAAN,CAAYC,IAAZ,CAAiBC,WAAjB,GAA+BC,QAA/B,CAAwC,MAAxC,CAAJ,EAAqD;AACnDJ,IAAAA,EAAE,GAAGD,KAAK,CAACE,KAAN,CAAYI,MAAZ,CAAmBL,EAAxB;AACD,GAL6B,CAO9B;;;AACA,QAAM,CAACM,WAAD,EAAcC,cAAd,IAAgChB,QAAQ,CAAC,EAAD,CAA9C;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACd;AACAkB,IAAAA,KAAK,CAAC,aAAD,CAAL,CACGC,IADH,CACSC,IAAD,IAAU;AACd,aAAOA,IAAI,CAACC,IAAL,EAAP;AACD,KAHH,EAIGF,IAJH,CAISC,IAAD,IAAU;AACdH,MAAAA,cAAc,CAACG,IAAD,CAAd;AACAE,MAAAA,OAAO,CAACC,GAAR,CAAYH,IAAZ;AACD,KAPH,EAQGI,KARH,CAQUC,KAAD,IAAW;AAChBH,MAAAA,OAAO,CAACC,GAAR,CAAYE,KAAZ;AACD,KAVH;AAWD,GAbQ,EAaN,EAbM,CAAT,CAV8B,CAyB9B;;AACA,QAAMC,iBAAiB,GAAIC,YAAD,IAAkB;AAC1C;AACAT,IAAAA,KAAK,CAAC,iBAAiBS,YAAlB,EAAgC;AACnCC,MAAAA,MAAM,EAAE;AAD2B,KAAhC,CAAL,CAGGT,IAHH,CAGQ,MAAM;AACVU,MAAAA,MAAM,CAACC,QAAP,GAAkB,WAAWpB,EAA7B;AACD,KALH,EAMGc,KANH,CAMUC,KAAD,IAAW;AAChBH,MAAAA,OAAO,CAACC,GAAR,CAAYE,KAAZ;AACD,KARH;AASD,GAXD,CA1B8B,CAuC9B;;;AACA,QAAM,CAACM,cAAD,EAAiBC,iBAAjB,IAAsC/B,QAAQ,CAAC;AACnDS,IAAAA,EAAE,EAAE,EAD+C;AAEnDuB,IAAAA,YAAY,EAAEvB,EAFqC;AAGnDwB,IAAAA,MAAM,EAAE,EAH2C;AAInDC,IAAAA,UAAU,EAAE;AAJuC,GAAD,CAApD;;AAOA,QAAMC,mBAAmB,GAAIC,MAAD,IAAY;AACtCA,IAAAA,MAAM,CAACC,cAAP,GADsC,CAEtC;;AACApB,IAAAA,KAAK,CAAC,cAAD,EAAiB;AACpBU,MAAAA,MAAM,EAAE,MADY;AAEpBW,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT,OAFW;AAKpBC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeX,cAAf;AALc,KAAjB,CAAL,CAMGZ,IANH,CAMQ,MAAM;AACZU,MAAAA,MAAM,CAACC,QAAP,GAAkB,WAAWpB,EAA7B;AACD,KARD;AASD,GAZD;;AAcA,QAAMiC,SAAS,GAAIN,MAAD,IAAY;AAC5BL,IAAAA,iBAAiB,CAAC,EAChB,GAAGD,cADa;AAEhB,OAACM,MAAM,CAACO,MAAP,CAAcC,IAAf,GAAsBR,MAAM,CAACO,MAAP,CAAcE;AAFpB,KAAD,CAAjB;AAID,GALD;;AAOA,sBACE,QAAC,SAAD;AAAA,4BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,EAEG9B,WAAW,CAAC+B,GAAZ,CAAiBC,UAAD,iBACf,QAAC,UAAD;AAEE,MAAA,YAAY,EAAEtC,EAFhB;AAGE,MAAA,IAAI,EAAE,IAAIuC,IAAJ,EAHR;AAIE,MAAA,YAAY,EAAED,UAAU,CAACf,YAJ3B,CAKE;AALF;AAME,MAAA,IAAI,EAAEvB,EAAE,IAAIsC,UAAU,CAACf,YAAjB,GAAgCe,UAAU,CAACd,MAA3C,GAAoD,IAN5D,CAOE;AAPF;AAQE,MAAA,UAAU,EAAExB,EAAE,IAAIsC,UAAU,CAACf,YAAjB,GAAgCe,UAAU,CAACb,UAA3C,GAAwD,IARtE,CASC;AATD;AAUE,MAAA,QAAQ,EAAET,iBAAiB,CAACwB,IAAlB,CAAuB,IAAvB,EAA6BF,UAAU,CAACtC,EAAxC,CAVZ;AAAA,gBAWGA,EAAE,KAAKsC,UAAU,CAACf,YAAlB,GAAiCe,UAAU,CAACb,UAA5C,GAAyD;AAX5D,OACOa,UAAU,CAACtC,EADlB;AAAA;AAAA;AAAA;AAAA,YADD,CAFH,eAiBE,QAAC,IAAD;AAAM,MAAA,QAAQ,EAAE0B,mBAAhB;AAAA,8BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEE,QAAC,OAAD;AAAA,+BACE;AACE,UAAA,IAAI,EAAC,MADP;AAEE,UAAA,IAAI,EAAC,QAFP;AAGE,UAAA,KAAK,EAAEpB,WAAW,CAACkB,MAHrB;AAIE,UAAA,QAAQ,EAAES,SAJZ;AAKE,UAAA,QAAQ,MALV;AAME,UAAA,WAAW,EAAC;AANd;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAFF,eAYE,QAAC,IAAD;AAAA,+BACE;AACE,UAAA,IAAI,EAAC,YADP;AAEE,UAAA,KAAK,EAAE3B,WAAW,CAACmB,UAFrB;AAGE,UAAA,QAAQ,EAAEQ,SAHZ;AAIE,UAAA,QAAQ,MAJV;AAKE,UAAA,IAAI,EAAC,GALP;AAME,UAAA,WAAW,EAAC;AANd;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAZF,eAsBE,QAAC,OAAD;AAAS,QAAA,IAAI,EAAC,QAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAtBF;AAAA;AAAA;AAAA;AAAA;AAAA,YAjBF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AA4CD;;GAhHQnC,e;;KAAAA,e;AAkHT,eAAeA,eAAf","sourcesContent":["import { React, useEffect, useState } from \"react\";\nimport Comentario from \"../../components/comentario/Comentario\";\n\nimport { Container, Button1, Form, Dividir, Div2 } from \"../../assets/style/StyleComunidadeGlobal\";\n\nfunction PageComentarios(props) {\n  let id = \"\";\n\n  if (props.match.path.toLowerCase().includes(\"depo\")) {\n    id = props.match.params.id;\n  }\n\n  // MÉTODO GET\n  const [depoimentos, setDepoimentos] = useState([]);\n\n  useEffect(() => {\n    // https://api-panaceia.herokuapp.com/rest/brief\n    fetch(\"/rest/brief\")\n      .then((resp) => {\n        return resp.json();\n      })\n      .then((resp) => {\n        setDepoimentos(resp);\n        console.log(resp);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }, []);\n\n  // MÉTODO DELETE\n  const removerComentario = (idDepoimento) => {\n    // https://api-panaceia.herokuapp.com/rest/brief/\n    fetch(\"/rest/brief/\" + idDepoimento, {\n      method: \"delete\",\n    })\n      .then(() => {\n        window.location = \"/depo/\" + id;\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  // MÉTODO POST\n  const [novoDepoimento, setNovoDepoimento] = useState({\n    id: \"\",\n    idComunidade: id,\n    titulo: \"\",\n    comentario: \"\",\n  });\n\n  const adicionarDepoimento = (evento) => {\n    evento.preventDefault();\n    // \"https://api-panaceia.herokuapp.com/rest/brief/\"\n    fetch(\"/rest/brief/\", {\n      method: \"post\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(novoDepoimento),\n    }).then(() => {\n      window.location = \"/depo/\" + id;\n    });\n  };\n\n  const digitacao = (evento) => {\n    setNovoDepoimento({\n      ...novoDepoimento,\n      [evento.target.name]: evento.target.value,\n    });\n  };\n\n  return (\n    <Container>\n      <h1>Depoimentos da comunidade</h1>\n      {depoimentos.map((depoimento) => (\n        <Comentario\n          key={depoimento.id}\n          idComunidade={id}\n          data={new Date()}\n          idDepoimento={depoimento.idComunidade}\n          // eslint-disable-next-line \n          nome={id == depoimento.idComunidade ? depoimento.titulo : null} \n          // eslint-disable-next-line \n          comentario={id == depoimento.idComunidade ? depoimento.comentario : null} \n         // eslint-disable-next-line \n          onRemove={removerComentario.bind(this, depoimento.id)}> \n          {id === depoimento.idComunidade ? depoimento.comentario : null}\n        </Comentario>  \n      ))}\n      <Form onSubmit={adicionarDepoimento}>\n          <h3>Compartilhe um depoimento com a comunidade</h3>\n        <Dividir>\n          <input\n            type=\"text\"\n            name=\"titulo\"\n            value={depoimentos.titulo}\n            onChange={digitacao}\n            required\n            placeholder=\"Digite seu nome\"\n          />\n        </Dividir>\n        <Div2>\n          <textarea\n            name=\"comentario\"\n            value={depoimentos.comentario}\n            onChange={digitacao}\n            required\n            rows=\"4\"\n            placeholder=\"Escreva seu depoimento...\"\n          />\n        </Div2>\n        <Button1 type=\"submit\">Publicar Comentário</Button1>\n      </Form>\n    </Container>\n  );\n}\n\nexport default PageComentarios;\n"]},"metadata":{},"sourceType":"module"}